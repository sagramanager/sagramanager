<div class="container text-center d-flex justify-content-center pt-3">
    <main class="form-signin">
        <h1 *ngIf="!newUserRegistrationRequired" class="h3 mb-3 fw-normal">Please sign in</h1>
        <h1 *ngIf="newUserRegistrationRequired" class="h3 mb-3 fw-normal">Please sign up</h1>
        <p *ngIf="newUserRegistrationRequired">Users table is empty, but an admin account is required for using this program.<br>Please, complete this form to create a new user.</p>
        <div class="my-2 text-danger" *ngIf="!loginResponse.loginOk">{{ loginResponse.message }}</div>
        <div class="form-floating">
            <input type="text" class="form-control" (keydown.enter)="inputPassword.focus()" [(ngModel)]="username" id="username" placeholder="Username">
            <label for="username">Username</label>
        </div>
        <div class="form-floating" *ngIf="newUserRegistrationRequired">
            <input type="text" class="form-control" (keydown.enter)="inputPassword.focus()" [(ngModel)]="name" id="name" placeholder="Name">
            <label for="name">Name (not required)</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" (keydown.enter)="loginOrRegister()" [(ngModel)]="password" id="password" placeholder="Password" #inputPassword>
            <label for="password">Password</label>
        </div>
        <button *ngIf="!newUserRegistrationRequired" class="w-100 btn btn-lg btn-primary" (click)="login()" [disabled]="loading">
            <span *ngIf="!loading">Login</span>
            <div class="spinner-border spinner-border-sm text-white" *ngIf="loading"></div>
        </button>
        <button *ngIf="newUserRegistrationRequired" class="w-100 btn btn-lg btn-primary" (click)="register()" [disabled]="loading">
            <span *ngIf="!loading">Register</span>
            <div class="spinner-border spinner-border-sm text-white" *ngIf="loading"></div>
        </button>
    </main>
</div>